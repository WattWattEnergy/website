<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8" />
    <title>WattWatt - Solar Crowdfunding</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
  </head>

  <body class="mode">
    <app-root></app-root>

    <script src="https://verify.sendwyre.com/js/widget-loader.js"></script>


    <script>
      function Pay() {
        console.log('Wyre Transfer');
        widget.open();

        var Pay = new Wyre.Widget({
          env: "test",
          accountId: "AC-EPLB2VQTJNH",
          id: "AC-EPLB2VQTJNH",
          auth: { type: "default" },
          operation: {
            type: "onramp",
            dest: "ethereum:0x98B031783d0efb1E65C4072C6576BaCa0736A912",
            // sourceCurrency: "USD",
            // destCurrency: "DAI",
            destAmount: 0.02
          },
          autoConfirm:true 
        });
      };


  function Transfer1() {
    widget.open();
    console.log('Transfer1')
    var transfer2 = new Wyre.Widget({
      env: "test",
      accountId: "AC-EPLB2VQTJNH",
      auth: { type: "secretKey",
      secretKey: "testertestertestertestertestertester" },
      operation: {
        type: "onramp",
        dest: "ethereum:0x98B031783d0efb1E65C4072C6576BaCa0736A912",
        // sourceCurrency: "USD",
        // destCurrency: "DAI",
        destAmount: 0.03
      }
    });
  };
    </script>

  <script>
    function Metamask() {
      console.log('Connecting Metamask');
      web3 = new Web3();
      web3.setProvider(new web3.providers.HttpProvider());
      web3.eth.getAccounts();
      // .then(function(accounts) {
      // console.log(accounts);
      // });
    };

  </script>


<script>
  // configure the widget for metamask authentication
  var widget = new Wyre.Widget({
    env: "test",
    // type: "debitcard",
    accountId: "AC-EPLB2VQTJNH",
    auth: { type: "metamask" },
    operation: {
      type: "onramp",
      dest: "ethereum:0x98B031783d0efb1E65C4072C6576BaCa0736A912",
      sourceCurrency: "USD",
      destCurrency: "DAI",
      destAmount: 0.03
    },
  });
</script>
  </body>
</html>
